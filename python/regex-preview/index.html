

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon.png">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="zekizz">
  <meta name="keywords" content="">
  <title>正则表达式四种预查 - 给荔枝打气</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_6peoq002giu.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.1"><link rel="alternate" href="/atom.xml" title="给荔枝打气" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>


<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>给荔枝打气</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/bg/bg1.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
                正则表达式四种预查
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2021-10-24 21:40" pubdate>
      2021年10月24日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      55
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">正则表达式四种预查</h1>
            
            <div class="markdown-body" id="post-body">
              <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>正则表达式有[正反]向[肯否]定预查四种预查形式，结论是正向只能放置于末尾，反向只能放置于开头。</p>
<span id="more"></span>
<p>参考手册：<a target="_blank" rel="noopener" href="https://tool.oschina.net/uploads/apidocs/jquery/regexp.html">https://tool.oschina.net/uploads/apidocs/jquery/regexp.html</a></p>
<p>只看以上手册，比较难搞清楚使用范围和使用姿势，以下对这四种预查分别做单元测试。</p>
<h2 id="1-正向肯定">1. 正向肯定</h2>
<p>测试用例</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setUp</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:</span>
  self.cases = [
    <span class="hljs-string">&#x27;123&#x27;</span>,
    <span class="hljs-string">&#x27;a123&#x27;</span>,
    <span class="hljs-string">&#x27;abc123&#x27;</span>,
    <span class="hljs-string">&#x27;ad123&#x27;</span>,
    <span class="hljs-string">&#x27;ac123&#x27;</span>,
    <span class="hljs-string">&#x27;ae123&#x27;</span>,
    <span class="hljs-string">&#x27;abcac123&#x27;</span>,
    <span class="hljs-string">&#x27;abcae123&#x27;</span>,
    <span class="hljs-string">&#x27;123abc&#x27;</span>,
    <span class="hljs-string">&#x27;123ad&#x27;</span>,
    <span class="hljs-string">&#x27;123ac&#x27;</span>,
    <span class="hljs-string">&#x27;abc&#x27;</span>
  ]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_forward_positive</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-string">&quot;&quot;&quot;正向肯定预查，在任何匹配pattern的字符串开始处匹配查找字符串。&quot;&quot;&quot;</span>
    p1 = <span class="hljs-string">&#x27;(?=abc|ad)123&#x27;</span>  <span class="hljs-comment"># 不能处理正则的最开头</span>
    p2 = <span class="hljs-string">&#x27;123(?=abc|ad)&#x27;</span>  <span class="hljs-comment"># 只能处于末尾，必须匹配预查的字符，只是不捕获，</span>
    p3 = <span class="hljs-string">&#x27;(123)(abc|ad)&#x27;</span>  <span class="hljs-comment"># 取group1后等价于p2</span>
    p4 = <span class="hljs-string">&#x27;a(?=bc|d)123&#x27;</span>  <span class="hljs-comment"># 不能处于正则的中间</span>

    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> self.cases:
      <span class="hljs-built_in">print</span>(c)
      <span class="hljs-built_in">print</span>(p1, re.search(p1, c))
      <span class="hljs-built_in">print</span>(p2, re.search(p2, c))
      <span class="hljs-built_in">print</span>(p3, re.search(p3, c))
      <span class="hljs-built_in">print</span>(p4, re.search(p4, c))
      <span class="hljs-built_in">print</span>()</code></pre>
<p>输出为如下，可以看到只有放于最后的才有效，放于最前面的<code>p1</code>捕获不了<code>abc123</code>，放置于中间的<code>p4</code>捕获不了<code>abc123</code>和<code>ae</code>123。而且正确放置在最后的<code>p2</code>，完全等价于<code>p3</code>（对<code>p3</code>的匹配取group1），无法捕获<code>123</code>，不实用，不如直接用<code>p3</code>。</p>
<pre><code class="hljs lasso"><span class="hljs-number">123</span>
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

a123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abc123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ad123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ac123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ae123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abcac123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abcae123
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>abc
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
(<span class="hljs-number">123</span>)(abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123abc&#x27;</span>&gt;
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ad
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
(<span class="hljs-number">123</span>)(abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123ad&#x27;</span>&gt;
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ac
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abc
(?=abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?=abc|ad) <span class="hljs-literal">None</span>
(<span class="hljs-number">123</span>)(abc|ad) <span class="hljs-literal">None</span>
a(?=bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span></code></pre>
<h2 id="2-正向否定">2. 正向否定</h2>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_forward_negative</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-string">&quot;&quot;&quot;正向否定预查，在任何不匹配pattern的字符串开始处匹配查找字符串。&quot;&quot;&quot;</span>
    p1 = <span class="hljs-string">&#x27;(?!abc|ad)123&#x27;</span>  <span class="hljs-comment"># 放在最前面不起作用</span>
    p2 = <span class="hljs-string">&#x27;123(?!abc|ad)&#x27;</span>  <span class="hljs-comment"># 只能放置于最后，后面能为空</span>
    p3 = <span class="hljs-string">&#x27;a(?!bc|d)123&#x27;</span>  <span class="hljs-comment"># 无效，只能匹配a123</span>
    p4 = <span class="hljs-string">&#x27;a(?!b|d)123&#x27;</span>  <span class="hljs-comment"># 无效</span>

    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> self.cases:
        <span class="hljs-built_in">print</span>(c)
        <span class="hljs-built_in">print</span>(p1, re.search(p1, c))
        <span class="hljs-built_in">print</span>(p2, re.search(p2, c))
        <span class="hljs-built_in">print</span>(p3, re.search(p3, c))
        <span class="hljs-built_in">print</span>(p4, re.search(p4, c))
        <span class="hljs-built_in">print</span>()</code></pre>
<p>放在最前面的<code>p1</code>捕获了<code>abc123</code>不符合预期，放在中间的<code>p3</code>和<code>p4</code>写了等于没写，只有放在最后的p2正确匹配了，并且后面可以为空（匹配了<code>123</code>）。</p>
<pre><code class="hljs lasso"><span class="hljs-number">123</span>
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

a123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;a123&#x27;</span>&gt;
a(?!b|d)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;a123&#x27;</span>&gt;

abc123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ad123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ac123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

ae123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abcac123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">5</span>, <span class="hljs-number">8</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">5</span>, <span class="hljs-number">8</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abcae123
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">5</span>, <span class="hljs-number">8</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">5</span>, <span class="hljs-number">8</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>abc
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) <span class="hljs-literal">None</span>
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ad
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) <span class="hljs-literal">None</span>
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ac
(?!abc|ad)<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>(?!abc|ad) &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>

abc
(?!abc|ad)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?!abc|ad) <span class="hljs-literal">None</span>
a(?!bc|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
a(?!b|d)<span class="hljs-number">123</span> <span class="hljs-literal">None</span></code></pre>
<h2 id="3-反向肯定">3. 反向肯定</h2>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_backward_positive</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-string">&quot;&quot;&quot;反向肯定&quot;&quot;&quot;</span>
    <span class="hljs-comment"># p1 = &#x27;(?&lt;=abc|ad)123&#x27;  # 报错, re.error: look-behind requires fixed-width pattern</span>
    p1 = <span class="hljs-string">&#x27;((?&lt;=abc)|(?&lt;=ad|ac))123&#x27;</span>  <span class="hljs-comment"># 只能处于最前面，等价于(abc|ad|ac)123</span>
    p2 = <span class="hljs-string">&#x27;123((?&lt;=abc)|(?&lt;=ad))&#x27;</span>  <span class="hljs-comment"># 无效</span>
    p3 = <span class="hljs-string">&#x27;a((?&lt;=bc)|(?&lt;=d))123&#x27;</span>  <span class="hljs-comment"># 错误用法</span>
    p4 = <span class="hljs-string">&#x27;123(?&lt;=abc)&#x27;</span>  <span class="hljs-comment"># 无效</span>

    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> self.cases:
        <span class="hljs-built_in">print</span>(c)
        <span class="hljs-built_in">print</span>(p1, re.search(p1, c))
        <span class="hljs-built_in">print</span>(p2, re.search(p2, c))
        <span class="hljs-built_in">print</span>(p3, re.search(p3, c))
        <span class="hljs-built_in">print</span>(p4, re.search(p4, c))
        <span class="hljs-built_in">print</span>()</code></pre>
<p>反向的时候需要注意，如果预查多个，不能之前那样写<code>(?&lt;=abc|ad)</code>，同一个预查里的长度必须是相等的。若想处理多个，得写过个预查<code>((?&lt;=abc)|(?&lt;=ad|ac))</code>。</p>
<p>此外，反向只能放置在最前面，放置在中间完全不符合预期，放在后面也未生效。但正确的写法<code>p1</code>也等价于<code>(abc|ad|ac)123</code>，用预查写起来还麻烦，不如直接group筛选。</p>
<pre><code class="hljs lasso"><span class="hljs-number">123</span>
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

a123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

abc123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

ad123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

ac123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

ae123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

abcac123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> &lt;re.<span class="hljs-keyword">Match</span> object; span=(<span class="hljs-number">5</span>, <span class="hljs-number">8</span>), <span class="hljs-keyword">match</span>=<span class="hljs-string">&#x27;123&#x27;</span>&gt;
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

abcae123
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>abc
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ad
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

<span class="hljs-number">123</span>ac
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>

abc
((?&lt;=abc)|(?&lt;=ad|ac))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>((?&lt;=abc)|(?&lt;=ad)) <span class="hljs-literal">None</span>
a((?&lt;=bc)|(?&lt;=d))<span class="hljs-number">123</span> <span class="hljs-literal">None</span>
<span class="hljs-number">123</span>(?&lt;=abc) <span class="hljs-literal">None</span>
</code></pre>
<h2 id="4-反向否定">4. 反向否定</h2>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_backward_negative</span>(<span class="hljs-params">self</span>):</span>
    <span class="hljs-string">&quot;&quot;&quot;反向否定&quot;&quot;&quot;</span>
    p1 = <span class="hljs-string">&#x27;((?&lt;!abc)|(?&lt;!ad|ac))123&#x27;</span>  <span class="hljs-comment"># 错误写法，只要满足不等于其中一个即可</span>
    p2 = <span class="hljs-string">&#x27;123((?&lt;!abc)|(?&lt;!ad))&#x27;</span>  <span class="hljs-comment">#</span>
    p3 = <span class="hljs-string">&#x27;a((?&lt;!bc)|(?&lt;!d))123&#x27;</span>  <span class="hljs-comment"># 错误写法，只能匹配a123</span>
    p4 = <span class="hljs-string">&#x27;123(?&lt;!abc)&#x27;</span>  <span class="hljs-comment"># 无效</span>
    p5 = <span class="hljs-string">&#x27;(?&lt;!abc)123&#x27;</span>  <span class="hljs-comment">#</span>
    p6 = <span class="hljs-string">&#x27;(?&lt;!abc)(?&lt;!ad|ac)123&#x27;</span>  <span class="hljs-comment"># 正确写法，必须满足全部不等于</span>

    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> self.cases:
        <span class="hljs-built_in">print</span>(c)
        <span class="hljs-built_in">print</span>(p1, re.search(p1, c))
        <span class="hljs-built_in">print</span>(p2, re.search(p2, c))
        <span class="hljs-built_in">print</span>(p3, re.search(p3, c))
        <span class="hljs-built_in">print</span>(p4, re.search(p4, c))
        <span class="hljs-built_in">print</span>(p5, re.search(p5, c))
        <span class="hljs-built_in">print</span>(p6, re.search(p6, c))
        <span class="hljs-built_in">print</span>()</code></pre>
<p>同上，只有放置在最前面的是正确的，这里需要注意的事<code>p1</code>和<code>p6</code>。<code>p1</code>只要不等于其一都可匹配，比如<code>abc123</code>不匹配<code>ad|ac</code>，这明显不符合预期。这个时候需要取并集，只需要拆开写过个就好，顺序无关，如见<code>p6</code>。</p>
<pre><code class="hljs xml">123
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

a123
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(1, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(1, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;a123&#x27;</span>&gt;</span>
123(?<span class="hljs-meta">&lt;!abc) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(1, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(1, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(1, 4), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

abc123
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(3, 6), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(3, 6), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(3, 6), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">(?&lt;!<span class="hljs-meta-keyword">abc</span>)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta"></span>
<span class="hljs-meta"><span class="hljs-meta-keyword">ad123</span></span>
<span class="hljs-meta">((?&lt;!<span class="hljs-meta-keyword">abc</span>)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta"></span>
<span class="hljs-meta"><span class="hljs-meta-keyword">ac123</span></span>
<span class="hljs-meta">((?&lt;!<span class="hljs-meta-keyword">abc</span>)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta"></span>
<span class="hljs-meta"><span class="hljs-meta-keyword">ae123</span></span>
<span class="hljs-meta">((?&lt;!<span class="hljs-meta-keyword">abc</span>)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(2, 5), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

abcac123
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta"></span>
<span class="hljs-meta"><span class="hljs-meta-keyword">abcae123</span></span>
<span class="hljs-meta">((?&lt;!<span class="hljs-meta-keyword">abc</span>)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(5, 8), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

123abc
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

123ad
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

123ac
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
123((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
a((?<span class="hljs-meta">&lt;!bc)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>
(?<span class="hljs-meta">&lt;!abc)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 &lt;re.Match <span class="hljs-meta-keyword">object</span>; <span class="hljs-meta-keyword">span</span>=(0, 3), <span class="hljs-meta-keyword">match</span>=<span class="hljs-meta-string">&#x27;123&#x27;</span>&gt;</span>

abc
((?<span class="hljs-meta">&lt;!abc)|(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123((?&lt;!<span class="hljs-meta-keyword">abc</span>)|(?&lt;!<span class="hljs-meta-keyword">ad</span>)) <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">a((?&lt;!<span class="hljs-meta-keyword">bc</span>)|(?&lt;!d))123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">123(?&lt;!<span class="hljs-meta-keyword">abc</span>) <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">(?&lt;!<span class="hljs-meta-keyword">abc</span>)123 <span class="hljs-meta-keyword">None</span></span>
<span class="hljs-meta">(?&lt;!<span class="hljs-meta-keyword">abc</span>)(?&lt;!<span class="hljs-meta-keyword">ad</span>|<span class="hljs-meta-keyword">ac</span>)123 <span class="hljs-meta-keyword">None</span></span></code></pre>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/python/">python</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/python/">python</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">正则表达式</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/bo-ke/echarts-in-blog/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">博文中插入echarts</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/da-shu-ju/pyspark-notes/">
                        <span class="hidden-mobile">pyspark经验小结</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <script type="text/javascript">
    function loadUtterances() {
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'zekizz/commit-utterances');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', 'github-light');
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    }
    waitElementVisible('comments', loadUtterances)
  </script>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->




















</body>
</html>
